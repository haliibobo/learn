#1. mysql 架构
    1、客户端
    2、服务端 跨存储引擎功能：视图、触发器、内置函数、存储过程
        1、  连接/线程处理 ：权限认证
              |      |
        2、  查询缓存  解析器：构建解析树
                       |
                      优化器：重写查询、决定表读写顺序、选择合适索引
    3、存储引擎
        innodb：支持热备份、聚簇索引、事务、行级锁
        myisam：全文索引、压缩表、GIS、
#2.  并发控制
    1、层面
        1、服务器层
        2、存储引擎层
    2、锁类型
        1、共享锁 S锁 读锁
        2、互斥锁 E锁 写锁
    3、锁粒度 存储引擎
        1、表锁
        2、行锁：InnoDB
    4、死锁
        1、死锁检测
        2、死锁超时 InnoDB 回滚最少行级排他锁事务
#3. 事务 存储引擎实现
    1、ACID  InnoDB
        1、atomicity 原子性 ：不可分割
        2、consistency 一致性 ：状态守恒
        3、ioslation 隔离性 ：事务不可见
            1、 read_uncommitted： 未提交读 、脏读
            2、read_committed ：提交读 、不可重复读
            3、repeated_read: 可重复性读 （默认）
                1、mvcc 解决幻读 ：保存数据时间快照
                2、 实现方式 两个隐藏列：行创建版本号、行过期版本号
                3、每开始一个事务，系统版本号自动+1，当前系统版本号作为事务版本号
                    1、select 行版本号小与等于本事务版本号，删除版本要么未定义，要么大于本事务版本号 
                    2、insert：当前系统版本号作为行版本号
                    3、update：新插入一行，当前系统版本号作为行版本号，原来行过期版本为当前系统版本号
                    4、delete：当前系统版本号作为过期版本号           
            4、serialize  可串行化
        4、durability 持久性 ：不会丢失
    2、事务日志：只追加、顺序写入
    3、
    